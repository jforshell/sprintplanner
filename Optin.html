<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SMS Marknadsföringssamtycke</title>
  <style>
    :root {
      --accent: #c0392b;
      --accent-soft: #fdf4f2;
      --text: #2c3e50;
      --muted: #6c7a89;
      --success: #27ae60;
      --success-hover: #229954;
      --warning-bg: #fff7e6;
      --warning-border: #ffc107;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #fafafa;
      padding: 16px;
      line-height: 1.55;
      color: var(--text);
    }

    .container {
      max-width: 500px;
      margin: 0 auto;
      background: #fff;
      padding: 18px 18px 20px;
      border-radius: 10px;
      border: 1px solid #ececec;
      box-shadow: 0 8px 20px rgba(0,0,0,0.05);
    }

    .brand-header {
      text-align: center;
      margin-bottom: 16px;
      padding-bottom: 14px;
      border-bottom: 1px solid #f1f1f1;
    }

    .brand-mark {
      height: 72px;
      object-fit: contain;
      display: block;
      margin: 0 auto 6px;
    }

    .brand-logo {
      font-size: 22px;
      font-weight: 700;
      color: var(--accent);
      letter-spacing: 0.4px;
    }

    .campaign-title {
      font-size: 14px;
      color: var(--muted);
      margin-top: 4px;
    }

    label {
      display: block;
      font-weight: 600;
      margin-bottom: 6px;
      color: var(--text);
      font-size: 14px;
    }

    input[type="tel"] {
      width: 100%;
      padding: 10px 12px;
      border: 1.5px solid #ddd;
      border-radius: 6px;
      font-size: 15px;
      transition: border-color 0.25s, box-shadow 0.25s;
    }

    input[type="tel"]:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(192, 57, 43, 0.1);
    }

    fieldset {
      border: 1px solid #ededed;
      border-radius: 8px;
      padding: 14px;
      margin: 12px 0;
    }

    legend {
      font-weight: 700;
      font-size: 16px;
      padding: 0 6px;
      color: var(--text);
    }

    .legend-sub {
      margin: 6px 0 10px;
      font-size: 13px;
      color: var(--muted);
      font-weight: 400;
    }

    .radio-group {
      display: grid;
      gap: 10px;
      margin-top: 8px;
    }

    .radio-option {
      border: 1px solid #e5e5e5;
      border-radius: 8px;
      padding: 10px;
      cursor: pointer;
      transition: border-color 0.25s, box-shadow 0.25s, background 0.25s;
      position: relative;
      display: grid;
      grid-template-columns: 18px 1fr;
      gap: 10px;
      align-items: start;
    }

    .radio-option:hover {
      border-color: var(--accent);
      box-shadow: 0 4px 12px rgba(192, 57, 43, 0.08);
    }

    .radio-option:focus-within {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(192, 57, 43, 0.12);
    }

    .radio-option[data-selected="true"] {
      border-color: var(--accent);
      background: var(--accent-soft);
    }

    .radio-option input[type="radio"] {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .radio-custom {
      width: 18px;
      height: 18px;
      border: 2px solid #bdc3c7;
      border-radius: 50%;
      margin-top: 1px;
      position: relative;
      transition: border-color 0.25s, box-shadow 0.25s;
      background: #fff;
    }

    .radio-option[data-selected="true"] .radio-custom {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(192, 57, 43, 0.16);
    }

    .radio-option[data-selected="true"] .radio-custom::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 9px;
      height: 9px;
      background: var(--accent);
      border-radius: 50%;
    }

    .radio-title {
      font-weight: 700;
      color: var(--text);
      margin-bottom: 2px;
      font-size: 14px;
    }

    .radio-description {
      font-size: 13px;
      color: var(--muted);
      line-height: 1.45;
    }

    .consent-footer {
      font-size: 12px;
      color: var(--muted);
      line-height: 1.5;
      margin-top: 10px;
    }

    .consent-footer a {
      color: var(--accent);
      text-decoration: none;
    }

    .consent-footer a:hover { text-decoration: underline; }

    .error-message {
      background: var(--warning-bg);
      border-left: 4px solid var(--warning-border);
      padding: 10px 12px;
      margin: 12px 0;
      border-radius: 6px;
      display: none;
      gap: 8px;
      font-size: 13px;
      color: #8a6d3b;
      align-items: center;
    }

    .error-message.show { display: flex; }
    .error-message .icon { font-size: 16px; }

    .cta-button {
      width: 100%;
      padding: 12px;
      background: var(--success);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.2s, transform 0.2s;
    }

    .cta-button:hover { background: var(--success-hover); transform: translateY(-1px); }
    .cta-button:active { transform: translateY(0); }

    .success-message {
      background: #e9f7ef;
      border: 1px solid #28a745;
      padding: 16px;
      border-radius: 8px;
      text-align: center;
      display: none;
      font-size: 14px;
      color: #155724;
      margin-top: 10px;
    }

    .success-message.show { display: block; }
    .success-message .icon { font-size: 36px; margin-bottom: 8px; display: block; }
    .success-message h3 { margin-bottom: 6px; }

    @media (max-width: 480px) {
      body { padding: 12px; }
      .container { padding: 16px; }
      .brand-mark { height: 62px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="brand-header">
      <img class="brand-mark" src="https://i.imgur.com/jWkl4lC.png" alt="Skogaholm logotyp">
      <div class="brand-logo">Skogaholm</div>
      <div class="campaign-title">Julkampanj 2025</div>
    </div>

    <form id="consentForm" novalidate>
      <div>
        <label for="phone">Mobilnummer</label>
        <input
          type="tel"
          id="phone"
          name="phone"
          placeholder="070-123 45 67"
          pattern="[0-9+\\-\\s]+"
          autocomplete="tel"
          inputmode="tel"
          aria-describedby="phoneError"
          required
        >
      </div>

      <div class="error-message" id="phoneError" role="alert" aria-live="polite">
        <span class="icon">!</span>
        <span>Vänligen ange ditt mobilnummer.</span>
      </div>

      <fieldset>
        <legend>Vill du få fler erbjudanden?</legend>
        <div class="legend-sub">Få exklusiva rabatter och erbjudanden direkt till din mobil.</div>

        <div class="radio-group" role="radiogroup" aria-label="SMS-samtycke">
          <label class="radio-option" data-value="yes" data-selected="false">
            <input type="radio" name="consent" value="yes" required>
            <span class="radio-custom" aria-hidden="true"></span>
            <span>
              <span class="radio-title">Ja, skicka mig erbjudanden via SMS</span>
              <span class="radio-description">Få unika kampanjer och rabattkuponger anpassade för dig.</span>
            </span>
          </label>

          <label class="radio-option" data-value="no" data-selected="false">
            <input type="radio" name="consent" value="no" required>
            <span class="radio-custom" aria-hidden="true"></span>
            <span>
              <span class="radio-title">Nej tack, jag vill bara ha denna kupong</span>
              <span class="radio-description">Du kommer inte att få några marknadsförings-SMS från oss.</span>
            </span>
          </label>
        </div>

        <div class="consent-footer">
          Du kan när som helst avregistrera dig via länk i SMS:et.
          Läs mer i vår <a href="#" target="_blank" rel="noopener noreferrer">integritetspolicy</a>.
        </div>
      </fieldset>

      <div class="error-message" id="consentError" role="alert" aria-live="polite">
        <span class="icon">!</span>
        <span>Vänligen välj ett alternativ för att fortsätta.</span>
      </div>

      <button type="submit" class="cta-button">Hämta kupong</button>
    </form>

    <div class="success-message" id="successMessage" tabindex="-1">
      <span class="icon" aria-hidden="true">✓</span>
      <h3>Tack!</h3>
      <p>Din kupong har skickats till ditt mobilnummer.</p>
    </div>
  </div>

  <script>
    const form = document.getElementById("consentForm");
    const phoneInput = document.getElementById("phone");
    const phoneError = document.getElementById("phoneError");
    const consentError = document.getElementById("consentError");
    const successMessage = document.getElementById("successMessage");
    const options = Array.from(document.querySelectorAll(".radio-option"));

    function setSelected(value) {
      options.forEach(opt => {
        opt.dataset.selected = opt.dataset.value === value ? "true" : "false";
      });
      consentError.classList.remove("show");
    }

    options.forEach(opt => {
      const input = opt.querySelector('input[type="radio"]');
      opt.addEventListener("click", () => setSelected(opt.dataset.value));
      input.addEventListener("change", () => setSelected(opt.dataset.value));
    });

    phoneInput.addEventListener("input", () => {
      phoneError.classList.remove("show");
    });

    form.addEventListener("submit", e => {
      e.preventDefault();
      const phone = phoneInput.value.trim();
      const consent = form.querySelector('input[name="consent"]:checked');

      phoneError.classList.toggle("show", !phone);
      if (!phone) {
        phoneError.scrollIntoView({ behavior: "smooth", block: "center" });
        phoneInput.focus();
        return;
      }

      if (!consent) {
        consentError.classList.add("show");
        consentError.scrollIntoView({ behavior: "smooth", block: "center" });
        return;
      }

      form.style.display = "none";
      successMessage.classList.add("show");
      successMessage.focus();
      console.log("Form submitted:", { phone, consent: consent.value });
    });
  </script>
</body>
</html>
